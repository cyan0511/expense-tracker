"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[202],{9969:function(e,n,t){t.d(n,{v:function(){return M}});var a=t(9439),r=t(2791),s=t(3763),i="TransactionForm_container__1WXA9",c="TransactionForm_typeContainer__Dt-tU",o="TransactionForm_radioContainer__DYF4m",l="TransactionForm_dateTimeContainer__qiUbC",u="TransactionForm_dateContainer__0RN9B",d="TransactionForm_fieldContainer__jrk6B",m="TransactionForm_error__UDa11",h="TransactionForm_timeContainer__ZxkNw",f="TransactionForm_currency__wL7Ly",v="TransactionForm_sumContainer__PzwRl",x=t(4420),p=t(2113),g=t(9321),j=t(1413),_="CategoryList_container__OdC+O",y="CategoryList_categories__f-Z8o",C="CategoryList_newCategoryContainer__WzlNk",N="CategoryList_save__0fWee",T=t(4666),k="CategoryListItem_actionButtons__afOrE",b=t(3329),F=function(e){var n=e.category,t=e.onItemClick,a=e.setCategory,r=e.setIsEdit,i=(0,x.I0)();return(0,b.jsxs)("li",{children:[n.categoryName,(0,b.jsxs)("div",{className:k,children:[(0,b.jsx)("svg",{onClick:function(){return t(n)},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#check")})}),(0,b.jsx)("svg",{onClick:function(e){e.stopPropagation(),e.preventDefault(),r(!0),a(n)},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#edit")})}),(0,b.jsx)("svg",{onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),i((0,T.uu)(n._id))}(e)},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#trash")})})]})]})},w=t(2530),Z=t(3733),S=function(e){var n=e.type,t=e.onItemClick,s=(0,x.I0)(),i=(0,x.v9)(w.CP),c=(0,r.useState)(null),o=(0,a.Z)(c,2),l=o[0],u=o[1],d=(0,r.useState)(!1),m=(0,a.Z)(d,2),h=m[0],f=m[1];return(0,b.jsxs)("div",{className:_,children:[(0,b.jsx)("span",{className:y,children:"All Category"}),(0,b.jsx)("div",{children:(0,b.jsx)("ul",{children:i[n].map((function(e,n){return(0,b.jsx)(F,{setCategory:u,setIsEdit:f,onItemClick:t,category:e},n)}))})}),(0,b.jsxs)("div",{className:C,children:[(0,b.jsx)("span",{children:"New Category"}),(0,b.jsx)("input",{type:"text",value:(null===l||void 0===l?void 0:l.categoryName)||"",onChange:function(e){return u((function(n){return(0,j.Z)((0,j.Z)({},n),{},{categoryName:e.target.value})}))}}),(0,b.jsx)("button",{disabled:!l,onClick:h?function(e){s((0,T.yr)(l)),f(!1),u(null)}:function(e){s((0,T.i8)({type:n,categoryName:l.categoryName})),u(null)},className:(0,Z.Z)("primary-button",h?N:""),type:"button",children:h?"Save":"Add"})]})]})},D="CategoriesModal_container__Cn6Nd",E=function(e){var n=e.title,t=e.type,a=e.isModalOpen,r=e.closeModal,s=e.onItemClick;return(0,b.jsx)(g.Z,{isOpen:a,onClose:r,children:(0,b.jsxs)("div",{className:D,children:[(0,b.jsx)("h2",{children:n}),(0,b.jsx)(S,{onItemClick:s,type:t})]})})},I=t(4746),M=function(e){var n=e.onSave,t=(0,x.v9)(I.PR),g=(0,p.S)(),j=g.validateForm,_=g.errors,y=g.formData,C=g.handleChange,N=g.handleSubmit,T=(0,r.useRef)(null),k=(0,r.useRef)(null),F=(0,r.useState)(null),w=(0,a.Z)(F,2),Z=w[0],S=w[1],D=(0,r.useState)(!1),M=(0,a.Z)(D,2),P=M[0],A=M[1],O=function(){return A(!1)};return(0,r.useEffect)((function(){Z&&j()}),[Z]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E,{isModalOpen:P,closeModal:O,type:y.type,onItemClick:function(e){S(e),C("category",e._id),O()},title:y.type}),(0,b.jsxs)("form",{className:i,onSubmit:function(e){N(e),n&&n()},children:[(0,b.jsxs)("div",{className:c,children:[(0,b.jsxs)("div",{className:o,children:[(0,b.jsx)("input",{type:"radio",id:"expense",name:"transaction",value:"expenses",onChange:function(e){S(null),C("type",e.target.value)},defaultChecked:!0}),(0,b.jsx)("label",{htmlFor:"expense",children:"Expense"})]}),(0,b.jsxs)("div",{className:o,children:[(0,b.jsx)("input",{type:"radio",id:"income",name:"transaction",value:"incomes",onChange:function(e){S(null),C("type",e.target.value)},required:!0}),(0,b.jsx)("label",{htmlFor:"income",children:"Income"})]})]}),(0,b.jsxs)("div",{className:l,children:[(0,b.jsxs)("div",{className:u,children:[(0,b.jsx)("label",{htmlFor:"date",children:"Date"}),(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("input",{className:_.date&&"invalid",name:"date",ref:T,value:y.date||"",type:"date",onClick:function(e){return e.currentTarget.showPicker()},onChange:function(e){return C("date",e.target.value)}}),(0,b.jsx)("svg",{onClick:function(){var e;return null===(e=T.current)||void 0===e?void 0:e.click()},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#calendar-icon")})}),_.date&&(0,b.jsx)("span",{className:m,children:_.date})]})]}),(0,b.jsxs)("div",{className:u,children:[(0,b.jsx)("label",{htmlFor:"time",children:"Time"}),(0,b.jsxs)("div",{className:h,style:{position:"relative"},children:[(0,b.jsx)("input",{ref:k,value:y.time||"",type:"time",onClick:function(e){return e.currentTarget.showPicker()},onChange:function(e){return C("time",e.target.value)}}),(0,b.jsx)("svg",{onClick:function(){var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#clock-icon")})})]})]})]}),(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:"category",children:"Category"}),(0,b.jsx)("input",{name:"category",readOnly:!0,onClick:function(){return A(!0)},type:"text",placeholder:"Enter the category",value:y.category&&(null===Z||void 0===Z?void 0:Z.categoryName)||"",className:_.category&&"invalid"}),_.category&&(0,b.jsx)("span",{className:m,children:_.category})]}),(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:"sum",children:"Sum"}),(0,b.jsxs)("div",{className:v,children:[(0,b.jsx)("input",{name:"sum",type:"number",placeholder:"Enter the sum",value:y.sum||"",onChange:function(e){return C("sum",e.target.value)},className:_.sum&&"invalid"}),(0,b.jsx)("span",{className:f,children:t.currency}),_.category&&(0,b.jsx)("span",{className:m,children:_.sum})]})]}),(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:"comment",children:"Comment"}),(0,b.jsx)("textarea",{name:"comment",className:_.comment&&"invalid",style:{height:"97px",resize:"none"},placeholder:"Enter the text",value:y.comment||"",onChange:function(e){return C("comment",e.target.value)}}),_.comment&&(0,b.jsx)("span",{className:m,children:_.comment})]}),(0,b.jsx)("button",{type:"submit",className:"primary-button",children:y._id?"Save":"Add"})]})]})}},9530:function(e,n,t){t.d(n,{v:function(){return h}});t(2791);var a="TransactionsTotalAmount_container__53c8b",r="TransactionsTotalAmount_totalContainer__Zfj10",s="TransactionsTotalAmount_arrow__arOwM",i="TransactionsTotalAmount_dataContainer__kopwM",c="TransactionsTotalAmount_amount__vb38O",o="TransactionsTotalAmount_description__+0297",l=t(3763),u=t(4420),d=t(4746),m=t(3329),h=function(e){var n,t,h=e.expenses,f=e.incomes,v=(0,u.v9)(d.PR),x={UAH:"\u20b4",USD:"$",EUR:"\u20ac"};return(0,m.jsxs)("div",{className:a,children:[(0,m.jsxs)("div",{className:r,children:[(0,m.jsx)("div",{className:s,children:(0,m.jsx)("svg",{width:"15",height:"17",children:(0,m.jsx)("use",{href:"".concat(l.Z,"#arrow-up")})})}),(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)("div",{className:o,children:"Total Income"}),(0,m.jsxs)("div",{className:c,children:[x[null===v||void 0===v||null===(n=v.currency)||void 0===n?void 0:n.toUpperCase()],f.reduce((function(e,n){return e+n.sum}),0).toFixed(2)]})]})]}),(0,m.jsxs)("div",{className:r,children:[(0,m.jsx)("div",{className:s,children:(0,m.jsx)("svg",{width:"15",height:"17",children:(0,m.jsx)("use",{href:"".concat(l.Z,"#arrow-down")})})}),(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)("div",{className:o,children:"Total Expense"}),(0,m.jsxs)("div",{className:c,children:[x[null===v||void 0===v||null===(t=v.currency)||void 0===t?void 0:t.toUpperCase()],h.reduce((function(e,n){return e+n.sum}),0).toFixed(2)]})]})]})]})}},2113:function(e,n,t){t.d(n,{S:function(){return d},k:function(){return m}});var a=t(4942),r=t(1413),s=t(9439),i=t(2791),c=t(6378),o=t(4420),l=t(3329),u=(0,i.createContext)({formData:{type:"incomes"},setFormData:function(){}}),d=function(){return(0,i.useContext)(u)},m=function(e){var n=e.children,t=e.transaction,d=(0,o.I0)(),m=(0,i.useState)(t||{type:"expenses"}),h=(0,s.Z)(m,2),f=h[0],v=h[1],x=(0,i.useState)(!1),p=(0,s.Z)(x,2),g=p[0],j=p[1],_=(0,i.useState)({category:"",password:""}),y=(0,s.Z)(_,2),C=y[0],N=y[1],T=function(){var e=!0,n={category:"",password:""};return f.date||(n.date="Date is required.",e=!1),f.category||(n.category="Category is required.",e=!1),f.sum&&0!==+f.sum||(n.sum="Sum is required.",e=!1),f.comment||(n.comment="Comment is required.",e=!1),N(n),j(e),e};(0,i.useEffect)((function(){var e=new Date,n=e.toISOString().split("T")[0],t=e.toTimeString().split(" ")[0].slice(0,5);v((function(e){return{type:e.type,date:n,time:t}}))}),[]);return(0,l.jsx)(u.Provider,{value:{validateForm:T,errors:C,isValid:g,formData:f,setFormData:v,handleChange:function(e,n){v((0,r.Z)((0,r.Z)({},f),{},(0,a.Z)({},e,n)))},handleSubmit:function(e){e.preventDefault(),T()&&(f._id?d((0,c.Ld)(f)):d((0,c.dT)(f)),v((function(e){return{type:e.type,date:e.date,time:e.time}})))}},children:n})}},8202:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var a=t(2791),r=t(9530),s=t(3623),i=t(5967),c="TransactionsChart_container__UdjV0",o="TransactionsChart_chart__ZFVMX",l="TransactionsChart_percentage__GrtDS",u="TransactionsChart_categories__FJgy8",d="TransactionsChart_data__5o5G5",m=t(4420),h=t(2530),f=t(3329);i.kL.register(i.qi,i.u,i.De);var v=function(e){var n=e.expenses,t=(0,m.v9)(h.CP).expenses,a=function(){if(0===n.length)return{};var e={},t=0;n.forEach((function(n){var a=n.category,r=n.sum;t+=r,e[a.categoryName]?e[a.categoryName]+=r:e[a.categoryName]=r}));var a={};for(var r in e)a[r]=e[r]/t*100;return a}(),r=["#0EF387","#0EBB69","#fafafa","#fafafa80","#ff4000","#ff8000","#ffbf00","#ffff00","#bfff00","#80ff00"],i=function(e){return e>r.length?v():r[e]},v=function(){var e=Math.floor(16777215*Math.random()).toString(16);return"#".concat(e.padStart(6,"0"))},x={labels:t.map((function(e){return e.categoryName})),datasets:[{data:t.map((function(e){return a[e.categoryName]})),backgroundColor:t.map((function(e,n){return i(n)})),borderWidth:0,borderRadius:10,spacing:-60}]};return(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("h2",{children:"Expenses categories"}),(0,f.jsxs)("div",{className:d,children:[(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)(s.$I,{data:x,options:{responsive:!0,rotation:-82,circumference:170,cutout:"70%",plugins:{legend:{display:!1}}}}),(0,f.jsx)("div",{className:l,children:"100%"})]}),(0,f.jsx)("div",{className:u,children:(0,f.jsx)("ul",{children:t.map((function(e,n){return(0,f.jsxs)("li",{children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,f.jsx)("div",{style:{width:"12px",height:"12px",background:"".concat(i(n)),borderRadius:9999}}),e.categoryName]}),(0,f.jsxs)("span",{children:[(a[e.categoryName]||0).toFixed(0),"%"]})]},n)}))})})]})]})},x=t(9969),p="MainTransactionsPage_container__yeFHe",g="MainTransactionsPage_headerContainer__386cX",j="MainTransactionsPage_formContainer__O4QTd",_="MainTransactionsPage_chartContainer__hxH-R",y=t(4666),C=t(2113),N=t(6378),T=t(8418),k=function(){var e=(0,m.I0)(),n=(0,m.v9)(T.f1),t=n.expenses,s=n.incomes,i=new Date,c=i.getMonth(),o=i.getFullYear(),l=function(e){var n=new Date(e);return n.getMonth()===c&&n.getFullYear()===o};(0,a.useEffect)((function(){e((0,y.pE)()),e((0,N.q0)()),e((0,N.zO)())}),[]);var u=t.filter((function(e){return l(e.date)})),d=s.filter((function(e){return l(e.date)}));return(0,f.jsxs)("div",{className:p,children:[(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)("h2",{children:"Expense Log"}),(0,f.jsx)("p",{children:"Capture and organize every penny spent with ease! A clear view of your financial habits at your fingertips."}),(0,f.jsx)("div",{style:{marginTop:"40px"},children:(0,f.jsx)(r.v,{expenses:u,incomes:d})})]}),(0,f.jsx)("div",{className:j,children:(0,f.jsx)(C.k,{children:(0,f.jsx)(x.v,{})})}),(0,f.jsx)("div",{className:_,children:(0,f.jsx)(v,{expenses:u})})]})}}}]);
//# sourceMappingURL=202.a747bf01.chunk.js.map