"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[202],{9969:function(e,n,t){t.d(n,{v:function(){return Z}});var a=t(9439),r=t(2791),s=t(3763),i="TransactionForm_container__1WXA9",c="TransactionForm_typeContainer__Dt-tU",o="TransactionForm_radioContainer__DYF4m",l="TransactionForm_dateTimeContainer__qiUbC",u="TransactionForm_dateContainer__0RN9B",d="TransactionForm_fieldContainer__jrk6B",h="TransactionForm_timeContainer__ZxkNw",m="TransactionForm_currency__wL7Ly",x="TransactionForm_sumContainer__PzwRl",f=t(4420),v=t(2530),p=t(2113),j=t(9321),g="CategoryList_container__OdC+O",_="CategoryList_categories__f-Z8o",y="CategoryList_newCategoryContainer__WzlNk",C=t(4666),N="CategoryListItem_actionButtons__afOrE",T=t(3329),k=function(e){var n=e.category,t=e.onItemClick,i=(0,f.I0)(),c=(0,r.useState)(!1),o=(0,a.Z)(c,2),l=o[0],u=o[1],d=(0,r.useState)(n.categoryName),h=(0,a.Z)(d,2),m=h[0],x=h[1];return(0,T.jsxs)("li",{onClick:function(){l||t(n)},children:[!l&&m,l&&(0,T.jsx)("input",{type:"text",onKeyDown:function(e){e.stopPropagation(),"Escape"===e.key&&(x(n.categoryName),u(!1))},value:m,onChange:function(e){return x(e.target.value)}}),(0,T.jsxs)("div",{className:N,children:[!l&&(0,T.jsx)("svg",{onClick:function(e){e.stopPropagation(),e.preventDefault(),u(!0)},children:(0,T.jsx)("use",{href:"".concat(s.Z,"#edit")})}),!l&&(0,T.jsx)("svg",{onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),i((0,C.uu)(n._id))}(e)},children:(0,T.jsx)("use",{href:"".concat(s.Z,"#trash")})}),l&&(0,T.jsx)("svg",{onClick:function(){return i((0,C.yr)({_id:n._id,categoryName:m})),void u(!1)},children:(0,T.jsx)("use",{href:"".concat(s.Z,"#check")})})]})]})},b=function(e){var n=e.categories,t=e.type,s=e.onItemClick,i=(0,f.I0)(),c=(0,r.useState)(""),o=(0,a.Z)(c,2),l=o[0],u=o[1];return(0,T.jsxs)("div",{className:g,children:[(0,T.jsx)("span",{className:_,children:"All Category"}),(0,T.jsx)("div",{children:(0,T.jsx)("ul",{children:n.map((function(e,n){return(0,T.jsx)(k,{onItemClick:s,category:e},n)}))})}),(0,T.jsxs)("div",{className:y,children:[(0,T.jsx)("span",{children:"New Category"}),(0,T.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)}}),(0,T.jsx)("button",{disabled:!l,onClick:function(e){i((0,C.i8)({type:t,categoryName:l})),u("")},className:"primary-button",type:"button",children:"Add"})]})]})},F="CategoriesModal_container__Cn6Nd",w=function(e){var n=e.title,t=e.type,a=e.categories,r=e.isModalOpen,s=e.closeModal,i=e.onItemClick;return(0,T.jsx)(j.Z,{isOpen:r,onClose:s,children:(0,T.jsxs)("div",{className:F,children:[(0,T.jsx)("h2",{children:n}),(0,T.jsx)(b,{onItemClick:i,type:t,categories:a||[]})]})})},S=t(4746),Z=function(e){var n=e.onSave,t=(0,f.v9)(S.PR),j=(0,p.S)(),g=j.formData,_=j.handleChange,y=j.handleSubmit,C=(0,r.useRef)(null),N=(0,r.useRef)(null),k=(0,f.v9)(v.CP),b=(0,r.useState)(g.category),F=(0,a.Z)(b,2),Z=F[0],D=F[1],E=(0,r.useState)(!1),I=(0,a.Z)(E,2),M=I[0],P=I[1],A=function(){return P(!1)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(w,{isModalOpen:M,closeModal:A,type:g.type,categories:k[g.type]||[],onItemClick:function(e){D(e),_("category",e._id),A()},title:g.type}),(0,T.jsxs)("form",{className:i,onSubmit:function(e){y(e),n&&n(),D(null)},children:[(0,T.jsxs)("div",{className:c,children:[(0,T.jsxs)("div",{className:o,children:[(0,T.jsx)("input",{type:"radio",id:"expense",name:"transaction",value:"expenses",onChange:function(e){D(null),_("type",e.target.value)},defaultChecked:!0}),(0,T.jsx)("label",{htmlFor:"expense",children:"Expense"})]}),(0,T.jsxs)("div",{className:o,children:[(0,T.jsx)("input",{type:"radio",id:"income",name:"transaction",value:"incomes",onChange:function(e){D(null),_("type",e.target.value)}}),(0,T.jsx)("label",{htmlFor:"income",children:"Income"})]})]}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsxs)("div",{className:u,children:[(0,T.jsx)("label",{htmlFor:"date",children:"Date"}),(0,T.jsxs)("div",{style:{position:"relative"},children:[(0,T.jsx)("input",{ref:C,value:g.date||"",type:"date",onClick:function(e){return e.currentTarget.showPicker()},onChange:function(e){return _("date",e.target.value)}}),(0,T.jsx)("svg",{onClick:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.click()},children:(0,T.jsx)("use",{href:"".concat(s.Z,"#calendar-icon")})})]})]}),(0,T.jsxs)("div",{className:u,children:[(0,T.jsx)("label",{htmlFor:"time",children:"Time"}),(0,T.jsxs)("div",{className:h,style:{position:"relative"},children:[(0,T.jsx)("input",{ref:N,value:g.time||"",type:"time",onClick:function(e){return e.currentTarget.showPicker()},onChange:function(e){return _("time",e.target.value)}}),(0,T.jsx)("svg",{onClick:function(){var e;return null===(e=N.current)||void 0===e?void 0:e.click()},children:(0,T.jsx)("use",{href:"".concat(s.Z,"#clock-icon")})})]})]})]}),(0,T.jsxs)("div",{className:d,children:[(0,T.jsx)("label",{htmlFor:"category",children:"Category"}),(0,T.jsx)("input",{readOnly:!0,onClick:function(){return P(!0)},type:"text",placeholder:"Enter the category",value:(null===Z||void 0===Z?void 0:Z.categoryName)||""})]}),(0,T.jsxs)("div",{className:d,children:[(0,T.jsx)("label",{htmlFor:"sum",children:"Sum"}),(0,T.jsxs)("div",{className:x,children:[(0,T.jsx)("input",{type:"number",placeholder:"Enter the sum",value:g.sum||"",onChange:function(e){return _("sum",e.target.value)}}),(0,T.jsx)("span",{className:m,children:t.currency})]})]}),(0,T.jsxs)("div",{className:d,children:[(0,T.jsx)("label",{htmlFor:"comment",children:"Comment"}),(0,T.jsx)("textarea",{style:{height:"97px"},placeholder:"Enter the text",value:g.comment||"",onChange:function(e){return _("comment",e.target.value)}})]}),(0,T.jsx)("button",{type:"submit",className:"primary-button",children:g._id?"Save":"Add"})]})]})}},9530:function(e,n,t){t.d(n,{v:function(){return m}});t(2791);var a="TransactionsTotalAmount_container__53c8b",r="TransactionsTotalAmount_totalContainer__Zfj10",s="TransactionsTotalAmount_arrow__arOwM",i="TransactionsTotalAmount_dataContainer__kopwM",c="TransactionsTotalAmount_amount__vb38O",o="TransactionsTotalAmount_description__+0297",l=t(3763),u=t(4420),d=t(4746),h=t(3329),m=function(e){var n,t,m=e.expenses,x=e.incomes,f=(0,u.v9)(d.PR),v={UAH:"\u20b4",USD:"$",EUR:"\u20ac"};return(0,h.jsxs)("div",{className:a,children:[(0,h.jsxs)("div",{className:r,children:[(0,h.jsx)("div",{className:s,children:(0,h.jsx)("svg",{width:"15",height:"17",children:(0,h.jsx)("use",{href:"".concat(l.Z,"#arrow-up")})})}),(0,h.jsxs)("div",{className:i,children:[(0,h.jsx)("div",{className:o,children:"Total Income"}),(0,h.jsxs)("div",{className:c,children:[v[null===f||void 0===f||null===(n=f.currency)||void 0===n?void 0:n.toUpperCase()],x.reduce((function(e,n){return e+n.sum}),0).toFixed(2)]})]})]}),(0,h.jsxs)("div",{className:r,children:[(0,h.jsx)("div",{className:s,children:(0,h.jsx)("svg",{width:"15",height:"17",children:(0,h.jsx)("use",{href:"".concat(l.Z,"#arrow-down")})})}),(0,h.jsxs)("div",{className:i,children:[(0,h.jsx)("div",{className:o,children:"Total Expense"}),(0,h.jsxs)("div",{className:c,children:[v[null===f||void 0===f||null===(t=f.currency)||void 0===t?void 0:t.toUpperCase()],m.reduce((function(e,n){return e+n.sum}),0).toFixed(2)]})]})]})]})}},2113:function(e,n,t){t.d(n,{S:function(){return d},k:function(){return h}});var a=t(4942),r=t(1413),s=t(9439),i=t(2791),c=t(6378),o=t(4420),l=t(3329),u=(0,i.createContext)({formData:{type:"incomes"},setFormData:function(){}}),d=function(){return(0,i.useContext)(u)},h=function(e){var n=e.children,t=e.transaction,d=(0,o.I0)(),h=(0,i.useState)(t||{type:"expenses"}),m=(0,s.Z)(h,2),x=m[0],f=m[1];(0,i.useEffect)((function(){var e=new Date,n=e.toISOString().split("T")[0],t=e.toTimeString().split(" ")[0].slice(0,5);f((function(e){return{type:e.type,date:n,time:t}}))}),[]);return(0,l.jsx)(u.Provider,{value:{formData:x,setFormData:f,handleChange:function(e,n){f((0,r.Z)((0,r.Z)({},x),{},(0,a.Z)({},e,n)))},handleSubmit:function(e){e.preventDefault(),x._id?d((0,c.Ld)(x)):d((0,c.dT)(x)),f((function(e){return{type:e.type}}))}},children:n})}},8202:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var a=t(2791),r=t(9530),s=t(3623),i=t(5967),c="TransactionsChart_container__UdjV0",o="TransactionsChart_chart__ZFVMX",l="TransactionsChart_percentage__GrtDS",u="TransactionsChart_categories__FJgy8",d="TransactionsChart_data__5o5G5",h=t(4420),m=t(2530),x=t(3329);i.kL.register(i.qi,i.u,i.De);var f=function(e){var n=e.expenses,t=(0,h.v9)(m.CP).expenses,a=function(){if(0===n.length)return{};var e={},t=0;n.forEach((function(n){var a=n.category,r=n.sum;t+=r,e[a.categoryName]?e[a.categoryName]+=r:e[a.categoryName]=r}));var a={};for(var r in e)a[r]=e[r]/t*100;return a}(),r=["#0EF387","#0EBB69","#fafafa","#fafafa80","#ff4000","#ff8000","#ffbf00","#ffff00","#bfff00","#80ff00"],i=function(e){return e>r.length?f():r[e]},f=function(){var e=Math.floor(16777215*Math.random()).toString(16);return"#".concat(e.padStart(6,"0"))},v={labels:t.map((function(e){return e.categoryName})),datasets:[{data:t.map((function(e){return a[e.categoryName]})),backgroundColor:t.map((function(e,n){return i(n)})),borderWidth:0,borderRadius:10,spacing:-60}]};return(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("h2",{children:"Expenses categories"}),(0,x.jsxs)("div",{className:d,children:[(0,x.jsxs)("div",{className:o,children:[(0,x.jsx)(s.$I,{data:v,options:{responsive:!0,rotation:-82,circumference:170,cutout:"70%",plugins:{legend:{display:!1}}}}),(0,x.jsx)("div",{className:l,children:"100%"})]}),(0,x.jsx)("div",{className:u,children:(0,x.jsx)("ul",{children:t.map((function(e,n){return(0,x.jsxs)("li",{children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,x.jsx)("div",{style:{width:"12px",height:"12px",background:"".concat(i(n)),borderRadius:9999}}),e.categoryName]}),(0,x.jsxs)("span",{children:[(a[e.categoryName]||0).toFixed(0),"%"]})]},n)}))})})]})]})},v=t(9969),p="MainTransactionsPage_container__yeFHe",j="MainTransactionsPage_headerContainer__386cX",g="MainTransactionsPage_formContainer__O4QTd",_="MainTransactionsPage_chartContainer__hxH-R",y=t(4666),C=t(2113),N=t(6378),T=t(8418),k=function(){var e=(0,h.I0)(),n=(0,h.v9)(T.f1),t=n.expenses,s=n.incomes,i=new Date,c=i.getMonth(),o=i.getFullYear(),l=function(e){var n=new Date(e);return n.getMonth()===c&&n.getFullYear()===o};(0,a.useEffect)((function(){e((0,y.pE)()),e((0,N.q0)()),e((0,N.zO)())}),[e]);var u=t.filter((function(e){return l(e.date)})),d=s.filter((function(e){return l(e.date)}));return(0,x.jsxs)("div",{className:p,children:[(0,x.jsxs)("div",{className:j,children:[(0,x.jsx)("h2",{children:"Expense Log"}),(0,x.jsx)("p",{children:"Capture and organize every penny spent with ease! A clear view of your financial habits at your fingertips."}),(0,x.jsx)("div",{style:{marginTop:"40px"},children:(0,x.jsx)(r.v,{expenses:u,incomes:d})})]}),(0,x.jsx)("div",{className:g,children:(0,x.jsx)(C.k,{children:(0,x.jsx)(v.v,{})})}),(0,x.jsx)("div",{className:_,children:(0,x.jsx)(f,{expenses:u})})]})}}}]);
//# sourceMappingURL=202.e2ae592f.chunk.js.map